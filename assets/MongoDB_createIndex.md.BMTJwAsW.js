import{_ as s,c as a,o as i,ae as e}from"./chunks/framework.BoX2Qm4w.js";const g=JSON.parse('{"title":"MongoDB索引","description":"","frontmatter":{},"headers":[],"relativePath":"MongoDB/createIndex.md","filePath":"MongoDB/createIndex.md"}'),n={name:"MongoDB/createIndex.md"};function d(l,t,r,h,p,o){return i(),a("div",null,[...t[0]||(t[0]=[e(`<h1 id="mongodb索引" tabindex="-1">MongoDB索引 <a class="header-anchor" href="#mongodb索引" aria-label="Permalink to &quot;MongoDB索引&quot;">​</a></h1><blockquote><p>索引通常能够极大提高查询效率，如果没有索引，MongoDB在查询数据时必须扫描集合中每个文件并选取符合条件的记录。</p></blockquote><blockquote><p>扫描全集合的查询效率很低，特别是处理大量数据时是非常致命的。</p></blockquote><blockquote><p><strong>索引</strong>是特殊的数据结构，索引存储在易于遍历读取的数据集合中，索引是数据库表中一列或多列的值进行排序的一种结构</p></blockquote><h2 id="语法" tabindex="-1">语法 <a class="header-anchor" href="#语法" aria-label="Permalink to &quot;语法&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">db.collection.createIndex(keys,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">key:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 要创建索引的字段，1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 按升序创建索引，</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 则按降序创建索引</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 举例</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">db.user.createIndex(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{title:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用多个字段创建索引（关系型数据库中称为：复合索引）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">db.user.createIndex(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{title:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> desc:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>options，可选参数列表如下：</p><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>background</td><td>boolean</td><td>建索引过程会阻塞其他数据库操作，background可指定以后台方式创建索引，默认为false</td></tr><tr><td>unique</td><td>boolean</td><td>建立的索引是否唯一，默认为false</td></tr><tr><td>name</td><td>string</td><td>索引的名称。如果未指定，则通过连接索引的字段名和排序生成一个索引名称</td></tr><tr><td>sparse</td><td>boolean</td><td>对文档中不存在的字段数据不启用索引。要特别注意：如果设置为true，在索引字段中不会查询出不包含对应字段的文档。默认为false</td></tr><tr><td>expireAfterSeconds</td><td>integer</td><td>指定一个以秒为单位的数值，完成TTL设定，设定集合的生存时间</td></tr><tr><td>v</td><td>index version</td><td>索引的版本号。默认的索引版本取决于MongoDB创建索引时运行的版本</td></tr><tr><td>weights</td><td>document</td><td>索引权重值，1-99999之间，标识该索引相对于其他索引字段的得分权重</td></tr><tr><td>default_language</td><td>string</td><td>对于文本索引，该参数决定了停用词及词干和词器的规则的列表。默认为英语</td></tr><tr><td>language_override</td><td>string</td><td>对于文本索引，该参数指定了包含在文档中的字段名，语言覆盖默认的language，默认值为language</td></tr></tbody></table>`,8)])])}const c=s(n,[["render",d]]);export{g as __pageData,c as default};

# MongoDB索引
> 索引通常能够极大提高查询效率，如果没有索引，MongoDB在查询数据时必须扫描集合中每个文件并选取符合条件的记录。

> 扫描全集合的查询效率很低，特别是处理大量数据时是非常致命的。

> **索引**是特殊的数据结构，索引存储在易于遍历读取的数据集合中，索引是数据库表中一列或多列的值进行排序的一种结构

## 语法
  ```bash
  db.collection.createIndex(keys, options)

  key: 要创建索引的字段，1 按升序创建索引， -1 则按降序创建索引

  # 举例
  db.user.createIndex({title: 1})
  # 使用多个字段创建索引（关系型数据库中称为：复合索引）
  db.user.createIndex({title: 1, desc: -1})
  ```
  options，可选参数列表如下：
   | 参数               | 类型           | 描述                                                                                                                    |
   | ------------------ | -------------- | ----------------------------------------------------------------------------------------------------------------------- |
   | background         | boolean        | 建索引过程会阻塞其他数据库操作，background可指定以后台方式创建索引，默认为false                                         |
   | unique             | boolean        | 建立的索引是否唯一，默认为false                                                                                         |
   | name               | string         | 索引的名称。如果未指定，则通过连接索引的字段名和排序生成一个索引名称                                                    |
   | sparse             | boolean        | 对文档中不存在的字段数据不启用索引。要特别注意：如果设置为true，在索引字段中不会查询出不包含对应字段的文档。默认为false |
   | expireAfterSeconds | integer        | 指定一个以秒为单位的数值，完成TTL设定，设定集合的生存时间                                                               |
   | v                  | index  version | 索引的版本号。默认的索引版本取决于MongoDB创建索引时运行的版本                                                           |
   | weights            | document       | 索引权重值，1-99999之间，标识该索引相对于其他索引字段的得分权重                                                         |
   | default_language   | string         | 对于文本索引，该参数决定了停用词及词干和词器的规则的列表。默认为英语                                                    |
   | language_override  | string         | 对于文本索引，该参数指定了包含在文档中的字段名，语言覆盖默认的language，默认值为language                                |